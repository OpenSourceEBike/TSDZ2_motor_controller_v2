/*********************************************************************************************************************
* DAVE APP Name : UART_CONFIG       APP Version: 4.0.12
*
* NOTE:
* This file is generated by DAVE. Any manual modification done to this file will be lost when the code is regenerated.
*********************************************************************************************************************/

/**
 * @file uart_config_conf.c
 * @date 2017-11-10
 *
 * NOTE:
 * This file is generated by DAVE-4. Any manual modification done to this file will be lost when the code is 
 * regenerated.
 *
 * @cond
 ***********************************************************************************************************************
 *
 * Copyright (c) 2015-2020, Infineon Technologies AG
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, are permitted provided that the
 * following conditions are met:
 *
 *   Redistributions of source code must retain the above copyright notice, this list of conditions and the  following
 *   disclaimer.
 *
 *   Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the
 *   following disclaimer in the documentation and/or other materials provided with the distribution.
 *
 *   Neither the name of the copyright holders nor the names of its contributors may be used to endorse or promote
 *   products derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,
 * INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE  FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY,OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT  OF THE
 * USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * To improve the quality of the software, users are encouraged to share modifications, enhancements or bug fixes
 * with Infineon Technologies AG (dave@infineon.com).
 ***********************************************************************************************************************
 *
 * Change History
 * --------------
 *
 * 2015-07-11:
 *     - Initial version for DAVEv4
 *
 * 2015-08-19:
 *     - Removed internal pad consumption
 *
 * 2015-08-28:
 *     - Added support for BRG from external frequency input
 *
 * 2017-11-10:
 *     - Renamed UART_CONFIG_t to UART_CH_CONFIG_t to avoid clash when using simultaneously UART and UART_CONFIG APP.
 *
 * @endcond
 *
 */
/***********************************************************************************************************************
 * HEADER FILES
 **********************************************************************************************************************/
#include "uart_config.h"

/***********************************************************************************************************************
 * EXTERN DECLARATIONS
 **********************************************************************************************************************/


/***********************************************************************************************************************
 * FUNCTION PROTOTYPES
 **********************************************************************************************************************/
/* USIC channel initialization function */
void UART_CONFIG_0_lInit(void);


/***********************************************************************************************************************
 * DATA STRUCTURES
 **********************************************************************************************************************/

/* USIC channel configuration for UART */
const XMC_UART_CH_CONFIG_t UART_CONFIG_0_channel_config =
{
  .baudrate      = 19200U,
  .data_bits     = 8U,
  .frame_length  = 8U,
  .stop_bits     = 1U,
  .oversampling  = 16U,
  .parity_mode   = XMC_USIC_CH_PARITY_MODE_NONE
};

/* UART APP configuration structure */
const UART_CONFIG_CONF_t UART_CONFIG_0_config = 
{
  .channel_config   = &UART_CONFIG_0_channel_config,
  .sample_point = 8U,
  .pulse_length = 0U,
  .uart_config_init = UART_CONFIG_0_lInit,
  .mode = UART_CONFIG_MODE_FULLDUPLEX,
  .tx_fifo_size     = XMC_USIC_CH_FIFO_DISABLED,
  .tx_fifo_limit     = 0U,
  .rx_fifo_size     = XMC_USIC_CH_FIFO_DISABLED,
  .rx_fifo_limit     = 0U
};

/* APP handle structure */
UART_CH_CONFIG_t UART_CONFIG_0 = 
{
  .channel = XMC_UART0_CH1,
  .config  = &UART_CONFIG_0_config
};

/***********************************************************************************************************************
 * API IMPLEMENTATION
 **********************************************************************************************************************/
/* Channel initialization function */
void UART_CONFIG_0_lInit()
{
  /* Initialize USIC channel in UART mode */
  XMC_UART_CH_Init(XMC_UART0_CH1, &UART_CONFIG_0_channel_config);
  /* Set the Sample Point */
  XMC_UART_CH_SetSamplePoint(XMC_UART0_CH1, 8U);
  /* Set input source for input stage dx0 (receive pin) */
  XMC_USIC_CH_SetInputSource(XMC_UART0_CH1, (XMC_USIC_CH_INPUT_t)XMC_UART_CH_INPUT_RXD, 0U); 
  XMC_USIC_CH_SetInputSource(XMC_UART0_CH1, (XMC_USIC_CH_INPUT_t)XMC_UART_CH_INPUT_RXD1, 0U);
  XMC_USIC_CH_SetInputSource(XMC_UART0_CH1, (XMC_USIC_CH_INPUT_t)XMC_UART_CH_INPUT_RXD2, 0U);
  /* Set the service request line for the Data Lost, Baud Rate Generator and UART protocol events */
  XMC_USIC_CH_SetInterruptNodePointer(XMC_UART0_CH1, XMC_USIC_CH_INTERRUPT_NODE_POINTER_PROTOCOL, 0U);
}
/* CODE_BLOCK_END */

